<h3><?= $component->getTitle() ?></h3>
<form method="post">
    <div class="row row-cols-<?= $component->getCols() ?>">
        <?php $prevChapter = null ?>
        <?php foreach ($fields as $field): ?>
            <div class="col">
                <?= $field->getChapter() != $prevChapter ? "<h4>{$field->getChapter()}</h4>" : '' ?>
                <?php $this->insert($templateFolder . '::' . $field->getTemplate(), [
                        'templateFolder' => $templateFolder,
                    'field' => $field,
                    'data' => $model->getComponentDataBean(),
                    'errors' => $model->getValidationHelper()->getErrorList($field->getKey()),
                    ]) ?>
            </div>
        <?php $prevChapter = $field->getChapter()?>
        <?php endforeach ?>
    </div>
    <input type="hidden" name="token" value="<?= $token ?? ''?>">
</form>
