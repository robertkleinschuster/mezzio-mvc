<?php
/**
 * @var Mvc\View\View $view
 */

/**
 * @var string $templateFolder
 */
?>
<?php $this->layout($templateFolder . '::' . $view->getLayout()) ?>
<div class="row row-cols-<?= $view->getCols() ?>">
    <?php foreach ($view->getComponentList() as $component): ?>
        <div class="col">
            <?php if ($component->hasTitle()): ?>
                <h3><?= $component->getTitle() ?></h3>
            <hr>
            <?php endif; ?>
            <?php $this->insert($templateFolder . '::' . $component->getTemplate(), ['component' => $component]) ?>
        </div>
    <?php endforeach; ?>
</div>
<?php $this->push('javascript') ?>
<script src="/js?file=jquery.min.js"></script>
<script src="/js?file=popper.min.js"></script>
<script src="/js?file=feather.min.js"></script>
<script src="/js?file=bs-custom-file-input.min.js"></script>
<script src="/js?file=bootstrap.bundle.min.js"></script>
<script lang="js">
    $().ready(function ($) {
        $body = $('body');
        $body.off('click.handleNavState').on('click.handleNavState', '.js-nav', function (event) {
            $.get(window.location, {
                navid: $(event.currentTarget).attr('id'),
                navindex: $(event.target).data('index')
            });
        });
        feather.replace()
    });
</script>
<?php $this->stop() ?>
<?php $this->push('stylesheets') ?>

<link rel="stylesheet" href="/css?file=bootstrap.min.css">
<?php $this->stop() ?>

